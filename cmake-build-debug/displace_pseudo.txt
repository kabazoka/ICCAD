void displacement
{
    for(loop of all macros randomly)
    {
        if(macro == fixed)
            continue;
        for(all pins in a macro)
        {
            get the pin's connected wire;
            calculate the wire's direction and distance as resulting force;
            whole_macro_force += force;
        }
        forceSum = force.x + force.y;
        force.x = constraint.displace * (force.x / forceSum)
        force.y = constraint.displace * (force.y / forceSum)
        //MOVE_MACRO(force):
        for(floor(force.x))
        {
            make a clone macro as the source macro
            try to move clone macro 1 micron;
            if(CHECK OVERLAP)
                break;
            if(CHECK OUTBOUND)
                break;
            move the real macro 1 micron;
        }
        for(floor(force.y))
        {
            make a clone macro as the source macro
            try to move clone macro 1 micron;
            if(CHECK OVERLAP)
                break;
            if(CHECK OUTBOUND)
                break;
            move the real macro 1 micron;
        }

    }

}